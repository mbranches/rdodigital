<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relatório Diário de Obras - RDO</title>
    <style>
        @page {
            size: A4;
            margin: 15mm 10mm;
            @bottom-right {
                content: counter(page) " / " counter(pages);
                font-size: 8pt;
                font-family: Arial, Helvetica, sans-serif;
                color: #666;
            }
        }

        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 10pt;
            line-height: 1.3;
            color: #000;
            background: #fff;
        }

        .container {
            width: 100%;
            max-width: 190mm;
            margin: 0 auto;
        }

        /* Integrated Header Styles */
        .header-logos-cell-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 70px;
            gap: 20px;
            padding: 5px;
        }
        .header-logos-cell-content .logo-box {
            flex: 1;
            display: flex;
            align-items: center;
        }
        .header-logos-cell-content .logo-box.left {
            justify-content: flex-start;
        }
        .header-logos-cell-content .logo-box.center {
            justify-content: center;
        }
        .header-logos-cell-content .logo-box.right {
            justify-content: flex-end;
        }
        .header-logos-cell-content .logo-img {
            max-height: 84px;
            max-width: 250px;
            object-fit: contain;
        }
        .report-title-cell {
            text-align: center;
            background-color: #e0e0e0;
            padding: 4px;
        }
        .report-title-cell h1 {
            font-size: 12pt;
            font-weight: bold;
            color: #000;
            text-transform: uppercase;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 12px;
            page-break-inside: auto;
        }

        table.info-table,
        table.data-table {
            border: 1px solid #000;
        }

        .info-table td {
            border: 1px solid #000;
            padding: 4px 8px;
            vertical-align: middle;
            font-size: 9pt;
        }

        .info-table .label {
            font-weight: bold;
            text-transform: uppercase;
            margin-right: 5px;
        }

        /* Section Titles */
        .section-title {
            background-color: #404040;
            color: #fff;
            font-weight: bold;
            font-size: 11pt;
            padding: 8px 10px;
            margin: 15px 0 8px 0;
            text-transform: uppercase;
            page-break-after: avoid;
        }

        /* Data Tables */
        .data-table {
            width: 100%;
        }

        .data-table thead th {
            background-color: #606060;
            color: #fff;
            font-weight: bold;
            padding: 8px 6px;
            text-align: left;
            font-size: 9pt;
            border: 1px solid #000;
        }

        .data-table tbody td {
            border: 1px solid #000;
            padding: 6px;
            font-size: 9pt;
        }

        .data-table tbody tr:nth-child(even) {
            background-color: #f5f5f5;
        }

        .data-table tbody tr {
            page-break-inside: avoid;
        }

        /* Climate Grid */
        .climate-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }

        .climate-card {
            border: 1px solid #000;
            padding: 8px;
            background-color: #f9f9f9;
        }

        .climate-card .period-title {
            font-weight: bold;
            font-size: 10pt;
            margin-bottom: 5px;
            text-transform: uppercase;
            color: #333;
        }

        .climate-card .climate-info {
            font-size: 9pt;
            margin: 3px 0;
        }

        .climate-card .climate-label {
            font-weight: bold;
            display: inline-block;
            width: 70px;
        }

        /* Comments Section */
        .comment-box {
            border: 1px solid #000;
            padding: 10px;
            margin-bottom: 8px;
            background-color: #f9f9f9;
            page-break-inside: avoid;
        }

        .comment-text {
            font-size: 9pt;
            line-height: 1.4;
            white-space: pre-wrap;
        }

        /* Photos Grid */
        .photos-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 12px;
        }

        .photo-box {
            border: 1px solid #000;
            padding: 8px;
            text-align: center;
            background-color: #fff;
            page-break-inside: avoid;
        }

        .photo-box img {
            width: 100%;
            max-height: 250px;
            object-fit: contain;
            margin-bottom: 5px;
        }

        .photo-caption {
            font-size: 8pt;
            color: #555;
            font-style: italic;
            margin-top: 5px;
        }

        /* Videos List */
        .video-list {
            margin-bottom: 12px;
        }

        .video-item {
            border: 1px solid #000;
            padding: 8px 10px;
            margin-bottom: 6px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
            page-break-inside: avoid;
        }

        .video-name {
            font-size: 9pt;
            color: #0066cc;
            text-decoration: underline;
            flex: 1;
        }

        .video-size {
            font-size: 9pt;
            color: #666;
            margin-left: 10px;
        }

        /* Signatures */
        .signatures-section {
            margin-top: 20px;
            page-break-inside: avoid;
        }

        .signatures-row {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .signature-box {
            width: 180px;
            text-align: center;
            page-break-inside: avoid;
        }

        .signature-image-box {
            border: 1px solid #000;
            min-height: 70px;
            padding: 8px;
            background-color: #fff;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .signature-image-box img {
            max-height: 60px;
            max-width: 100%;
        }

        .signature-line {
            border-top: 1px solid #000;
            margin: 8px 0;
        }

        .signature-name {
            font-weight: bold;
            font-size: 9pt;
            margin-bottom: 3px;
        }

        /* Footer */
        .footer {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid #ccc;
            font-size: 8pt;
            color: #666;
            text-align: center;
        }

        .no-break {
            page-break-inside: avoid;
        }
    </style>
</head>
<body>
<div class="container">

    <!-- Obra Information -->
    <table class="info-table no-break">
        <!-- HEADER ROW -->
        <tr>
            <td colspan="4">
                <div class="header-logos-cell-content">
                    <!-- Left Logo -->
                    <div class="logo-box left" th:if="${logoCount >= 2}">
                        <img th:if="${logo1 != null and logo1.exibir == true and logo1.url != null}"
                             th:src="${logo1.url}"
                             alt="Logo 1"
                             class="logo-img" />
                    </div>

                    <!-- Center Logo -->
                    <div class="logo-box center">
                        <img th:if="${logoCount == 0}"
                             th:src="${defaultLogoUrl}"
                             alt="Meu Diário de Obras"
                             class="logo-img" />
                        <img th:if="${logoCount == 1 and logo1 != null and logo1.exibir == true and logo1.url != null}"
                             th:src="${logo1.url}"
                             alt="Logo"
                             class="logo-img" />
                        <img th:if="${logoCount == 3 and logo2 != null and logo2.exibir == true and logo2.url != null}"
                             th:src="${logo2.url}"
                             alt="Logo 2"
                             class="logo-img" />
                    </div>

                    <!-- Right Logo -->
                    <div class="logo-box right" th:if="${logoCount >= 2}">
                        <img th:if="${logoCount == 2 and logo2 != null and logo2.exibir == true and logo2.url != null}"
                             th:src="${logo2.url}"
                             alt="Logo 2"
                             class="logo-img" />
                        <img th:if="${logoCount == 3 and logo3 != null and logo3.exibir == true and logo3.url != null}"
                             th:src="${logo3.url}"
                             alt="Logo 3"
                             class="logo-img" />
                    </div>
                </div>
            </td>
        </tr>
        <!-- TITLE ROW -->
        <tr>
            <td colspan="4" class="report-title-cell">
                <h1>Relatório Diário de Obras</h1>
            </td>
        </tr>
        <!-- INFO ROWS -->
        <tr>
            <td colspan="2">
                <span class="label">Obra:</span>
                <span th:text="${details.obraNome}">-</span>
            </td>
            <td colspan="2">
                <span class="label">Nº do Contrato:</span>
                <span th:text="${details.obraNumeroContrato}">-</span>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <span class="label">Local:</span>
                <span th:text="${details.obraEndereco}">-</span>
            </td>
            <td>
                <span class="label">Nº RDO:</span>
                <span th:text="${details.numero}">-</span>
            </td>
            <td>
                <span class="label">Data:</span>
                <span th:if="${details.dataFim == null}" th:text="${#temporals.format(details.dataInicio, 'dd/MM/yyyy')}"></span>
                <span th:if="${details.dataFim != null}" th:text="${#temporals.format(details.dataInicio, 'dd/MM/yyyy') + ' - ' + #temporals.format(details.dataFim, 'dd/MM/yyyy')}"></span>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <span class="label">Contratante:</span>
                <span th:text="${details.obraContratante}">-</span>
            </td>
            <td colspan="2">
                <span class="label">Responsável Técnico:</span>
                <span th:text="${details.obraResponsavel}">-</span>
            </td>
        </tr>
        <tr th:if="${details.prazoContratual != null}">
            <td>
                <span class="label">Prazo Contratual:</span>
                <span th:text="${details.prazoContratual + ' dias'}"></span>
            </td>
            <td colspan="2">
                <span class="label">Prazo Decorrido:</span>
                <span th:text="${(details.prazoDecorrido != null ? details.prazoDecorrido : 0) + ' dias'}"></span>
            </td>
            <td>
                <span class="label">Prazo a Vencer:</span>
                <span th:text="${(details.prazoPraVencer != null ? details.prazoPraVencer : 0) + ' dias'}"></span>
            </td>
        </tr>
    </table>

    <!-- Horário de Trabalho -->
    <section th:if="${details.showHorarioDeTrabalho != null and details.showHorarioDeTrabalho and userCanViewHorarioDeTrabalho}">
        <div class="section-title">Horário de Trabalho</div>
        <table class="info-table">
            <tr>
                <td style="width: 15%;"><span class="label">Hora Início:</span></td>
                <td style="width: 35%;" th:text="${details.horaInicioTrabalhos != null ? #temporals.format(details.horaInicioTrabalhos, 'HH:mm') : '-'}">-</td>
                <td style="width: 15%;"><span class="label">Hora Fim:</span></td>
                <td style="width: 35%;" th:text="${details.horaFimTrabalhos != null ? #temporals.format(details.horaFimTrabalhos, 'HH:mm') : '-'}">-</td>
            </tr>
            <tr>
                <td><span class="label">Intervalo:</span></td>
                <td th:text="${details.horasIntervalo != null ? #temporals.format(details.horasIntervalo, 'HH:mm') : '-'}">-</td>
                <td><span class="label">Total Trabalhado:</span></td>
                <td th:text="${details.horasTrabalhadas != null ? #temporals.format(details.horasTrabalhadas, 'HH:mm') : '-'}">-</td>
            </tr>
        </table>
    </section>

    <!-- Condições Climáticas -->
    <section th:if="${details.showCondicaoClimatica != null and details.showCondicaoClimatica == true and userCanViewCondicoesClimaticas == true}">
        <div class="section-title">Condições Climáticas</div>

        <div class="climate-grid">
            <!-- Manhã -->
            <div class="climate-card" th:if="${details.caracteristicasManha != null and details.caracteristicasManha.ativo == true}">
                <div class="period-title">Manhã</div>
                <div class="climate-info">
                    <span class="climate-label">Clima:</span>
                    <span th:text="${details.caracteristicasManha.clima != null ? details.caracteristicasManha.clima.descricao : '-'}">-</span>
                </div>
                <div class="climate-info">
                    <span class="climate-label">Condição:</span>
                    <span th:text="${details.caracteristicasManha.condicaoDoTempo != null ? details.caracteristicasManha.condicaoDoTempo.descricao : '-'}">-</span>
                </div>
            </div>

            <!-- Tarde -->
            <div class="climate-card" th:if="${details.caracteristicasTarde != null and details.caracteristicasTarde.ativo == true}">
                <div class="period-title">Tarde</div>
                <div class="climate-info">
                    <span class="climate-label">Clima:</span>
                    <span th:text="${details.caracteristicasTarde.clima != null ? details.caracteristicasTarde.clima.descricao : '-'}">-</span>
                </div>
                <div class="climate-info">
                    <span class="climate-label">Condição:</span>
                    <span th:text="${details.caracteristicasTarde.condicaoDoTempo != null ? details.caracteristicasTarde.condicaoDoTempo.descricao : '-'}">-</span>
                </div>
            </div>

            <!-- Noite -->
            <div class="climate-card" th:if="${details.caracteristicasNoite != null and details.caracteristicasNoite.ativo == true}">
                <div class="period-title">Noite</div>
                <div class="climate-info">
                    <span class="climate-label">Clima:</span>
                    <span th:text="${details.caracteristicasNoite.clima != null ? details.caracteristicasNoite.clima.descricao : '-'}">-</span>
                </div>
                <div class="climate-info">
                    <span class="climate-label">Condição:</span>
                    <span th:text="${details.caracteristicasNoite.condicaoDoTempo != null ? details.caracteristicasNoite.condicaoDoTempo.descricao : '-'}">-</span>
                </div>
            </div>
        </div>

        <table class="info-table" th:if="${details.indicePluviometrico != null}">
            <tr>
                <td><span class="label">Índice Pluviométrico:</span></td>
                <td th:text="${details.indicePluviometrico + ' mm'}">0 mm</td>
            </tr>
        </table>
    </section>

    <!-- Mão de Obra -->
    <section th:if="${maoDeObra != null and !maoDeObra.isEmpty()}">
        <div class="section-title">Mão de Obra</div>
        <table class="data-table">
            <thead>
            <tr>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Horas Trabalhadas</th>
                <th>Grupo</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${maoDeObra}">
                <td th:text="${item.funcao != null ? item.funcao : '-'}">Função</td>
                <td th:text="${item.presenca != null ? item.presenca.descricao : '-'}">-</td>
                <td th:text="${item.horasTrabalhadas != null ? #temporals.format(item.horasTrabalhadas, 'HH:mm') : '-'}">-</td>
                <td th:text="${item.maoDeObra != null and item.maoDeObra.grupo != null ? item.maoDeObra.grupo.descricao : '-'}">-</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Equipamentos -->
    <section th:if="${equipamentos != null and !equipamentos.isEmpty()}">
        <div class="section-title">Equipamentos</div>
        <table class="data-table">
            <thead>
            <tr>
                <th>Descrição do Equipamento</th>
                <th style="width: 120px;">Quantidade</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${equipamentos}">
                <td th:text="${item.equipamento != null and item.equipamento.descricao != null ? item.equipamento.descricao : '-'}">Descrição</td>
                <td th:text="${item.quantidade != null ? item.quantidade : '-'}">0</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Materiais Utilizados -->
    <section th:if="${materiaisUtilizados != null and !materiaisUtilizados.isEmpty()}">
        <div class="section-title">Materiais Utilizados</div>
        <table class="data-table">
            <thead>
            <tr>
                <th>Descrição</th>
                <th style="width: 150px;">Quantidade</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${materiaisUtilizados}">
                <td th:text="${item.descricao != null ? item.descricao : '-'}">Descrição</td>
                <td th:text="${item.quantidade != null ? item.quantidade : '-'}">-</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Materiais Recebidos -->
    <section th:if="${materiaisRecebidos != null and !materiaisRecebidos.isEmpty()}">
        <div class="section-title">Materiais Recebidos</div>
        <table class="data-table">
            <thead>
            <tr>
                <th>Descrição</th>
                <th style="width: 150px;">Quantidade</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${materiaisRecebidos}">
                <td th:text="${item.descricao != null ? item.descricao : '-'}">Descrição</td>
                <td th:text="${item.quantidade != null ? item.quantidade : '-'}">-</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Atividades -->
    <section th:if="${atividades != null and !atividades.isEmpty()}">
        <div class="section-title">Atividades (<span th:text="${atividades.size()}">0</span>)</div>
        <table class="data-table">
            <tbody>
            <tr th:each="item : ${atividades}">
                <td>
                    <!-- Descrição da atividade -->
                    <div style="font-weight: bold; margin-bottom: 5px;" th:text="${item.descricao != null ? item.descricao : '-'}">Descrição da atividade</div>

                    <!-- Campos personalizados -->
                    <div th:if="${item.camposPersonalizados != null and !item.camposPersonalizados.isEmpty()}" style="margin-bottom: 5px;">
                        <div th:each="campo : ${item.camposPersonalizados}" style="color: #666; font-size: 9pt; margin-left: 10px;">
                            <span th:text="'- ' + ${campo.campo} + ': ' + ${campo.descricao}">- Supervisão: Eng. Marcelo Branches</span>
                        </div>
                    </div>

                    <!-- Informações adicionais -->
                    <div style="font-size: 9pt; color: #666; margin-top: 5px;">
                        <span th:if="${item.status != null and item.status.descricao != null}">
                            <strong>Status:</strong> <span th:text="${item.status.descricao}">-</span>
                        </span>
                        <span th:if="${item.quantidadeRealizada != null}" style="margin-left: 15px;">
                            <strong>Quantidade:</strong> <span th:text="${item.quantidadeRealizada}">-</span>
                        </span>
                        <span th:if="${item.unidadeMedida != null}">
                            <span th:text="${item.unidadeMedida}">-</span>
                        </span>
                        <span th:if="${item.porcentagemConcluida != null}" style="margin-left: 15px;">
                            <strong>% Concluída:</strong> <span th:text="${item.porcentagemConcluida + '%'}">-</span>
                        </span>
                        <span th:if="${item.horaInicio != null and item.horaFim != null}" style="margin-left: 15px;">
                            <strong>Horário:</strong> <span th:text="${#temporals.format(item.horaInicio, 'HH:mm') + ' - ' + #temporals.format(item.horaFim, 'HH:mm')}">-</span>
                        </span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Ocorrências -->
    <section th:if="${ocorrencias != null and !ocorrencias.isEmpty()}">
        <div class="section-title">Ocorrências (<span th:text="${ocorrencias.size()}">0</span>)</div>
        <table class="data-table">
            <tbody>
            <tr th:each="item : ${ocorrencias}">
                <td>
                    <!-- Linha com tipos e horário -->
                    <div style="margin-bottom: 5px;">
                        <!-- Tipos em badges -->
                        <span th:if="${item.tiposDeOcorrencia != null and !item.tiposDeOcorrencia.isEmpty()}">
                            <span th:each="tipo : ${item.tiposDeOcorrencia}"
                                  style="display: inline-block; background-color: #e8e8e8; border: 1px solid #ccc; padding: 2px 8px; margin-right: 5px; font-size: 9pt; border-radius: 3px;"
                                  th:text="${tipo.descricao}">Tipo</span>
                        </span>

                        <!-- Separador e horário -->
                        <span th:if="${(item.tiposDeOcorrencia != null and !item.tiposDeOcorrencia.isEmpty()) and (item.horaInicio != null and item.horaFim != null)}">
                            <span style="margin: 0 5px;">-</span>
                        </span>

                        <!-- Horário com duração -->
                        <span th:if="${item.horaInicio != null and item.horaFim != null}" style="font-style: italic; color: #666; font-size: 9pt;">
                            <span th:if="${item.totalHoras != null}"
                                  th:text="${#temporals.format(item.horaInicio, 'HH:mm') + ' até ' + #temporals.format(item.horaFim, 'HH:mm') + ' (' + #temporals.format(item.totalHoras, 'HH:mm') + ')'}">13:00 até 15:00 (02:00)</span>
                            <span th:if="${item.totalHoras == null}"
                                  th:text="${#temporals.format(item.horaInicio, 'HH:mm') + ' até ' + #temporals.format(item.horaFim, 'HH:mm')}">13:00 até 15:00</span>
                        </span>
                    </div>

                    <!-- Descrição -->
                    <div th:text="${item.descricao != null ? item.descricao : ''}">Descrição da ocorrência</div>

                    <!-- Campos personalizados -->
                    <div th:if="${item.camposPersonalizados != null and !item.camposPersonalizados.isEmpty()}" style="margin-top: 5px;">
                        <div th:each="campo : ${item.camposPersonalizados}" style="color: #666; font-size: 9pt; margin-left: 10px;">
                            <span th:text="'- ' + ${campo.campo} + ': ' + ${campo.descricao}">- Supervisão: Eng. Marcelo Branches</span>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- Comentários -->
    <section th:if="${comentarios != null and !comentarios.isEmpty()}">
        <div class="section-title">Comentários</div>
        <div th:each="item : ${comentarios}" class="comment-box">
            <!-- Cabeçalho com autor e data -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding-bottom: 5px; border-bottom: 1px solid #ddd;">
                <div style="font-weight: bold; font-size: 9pt; color: #333;">
                    <span th:text="${item.autor != null and item.autor.nome != null ? item.autor.nome : 'Autor desconhecido'}">Nome do Autor</span>
                </div>
                <div style="font-size: 8pt; color: #666; font-style: italic;">
                    <span th:text="${item.dataCriacao != null ? #temporals.format(item.dataCriacao, 'dd/MM/yyyy HH:mm') : '-'}">05/12/2024 14:30</span>
                </div>
            </div>

            <!-- Texto do comentário -->
            <p class="comment-text" th:text="${item.descricao != null ? item.descricao : ''}">Texto do comentário</p>

            <!-- Campos personalizados -->
            <div th:if="${item.camposPersonalizados != null and !item.camposPersonalizados.isEmpty()}" style="margin-top: 8px;">
                <div th:each="campo : ${item.camposPersonalizados}" style="color: #666; font-size: 9pt; margin-left: 10px;">
                    <span th:text="'- ' + ${campo.campo} + ': ' + ${campo.descricao}">- Supervisão: Eng. Marcelo Branches</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Fotos -->
    <section th:if="${fotos != null and !fotos.isEmpty()}">
        <div class="section-title">Fotos</div>
        <div class="photos-grid">
            <div th:each="foto : ${fotos}" class="photo-box">
                <img th:src="${foto.url}" th:alt="${foto.nomeArquivo != null ? foto.nomeArquivo : 'Foto'}" />
                <div class="photo-caption" th:text="${foto.descricao != null ? foto.descricao : (foto.nomeArquivo != null ? foto.nomeArquivo : '')}">Descrição da foto</div>
            </div>
        </div>
    </section>

    <!-- Vídeos -->
    <section th:if="${videos != null and !videos.isEmpty()}">
        <div class="section-title">Vídeos</div>
        <div class="video-list">
            <div th:each="video : ${videos}" class="video-item">
                <a th:if="${video.url != null}" th:href="${video.url}" target="_blank" class="video-name" th:text="${video.nomeArquivo != null ? video.nomeArquivo : 'video.mp4'}">nome_video.mp4</a>
                <span th:if="${video.url == null}" class="video-name" th:text="${video.nomeArquivo != null ? video.nomeArquivo : 'video.mp4'}">nome_video.mp4</span>
                <span class="video-size" th:text="${video.tamanhoEmMb != null ? video.tamanhoEmMb + ' MB' : '-'}">0 MB</span>
            </div>
        </div>
    </section>

    <!-- Assinaturas -->
    <section th:if="${assinaturas != null and !assinaturas.isEmpty()}" class="signatures-section">
        <!-- First row (up to 3 signatures) -->
        <div class="signatures-row">
            <div th:each="assinatura, iterStat : ${assinaturas}"
                 th:if="${iterStat.index < 3}"
                 class="signature-box">
                <div class="signature-image-box">
                    <img th:if="${assinatura.assinaturaUrl != null}"
                         th:src="${assinatura.assinaturaUrl}"
                         alt="Assinatura" />
                </div>
                <div class="signature-line"></div>
                <div class="signature-name" th:text="${assinatura.configuracao != null and assinatura.configuracao.nomeAssinante != null ? assinatura.configuracao.nomeAssinante : 'Assinante'}">Nome do Assinante</div>
            </div>
        </div>

        <!-- Second row (signatures 4-6) -->
        <div class="signatures-row" th:if="${assinaturas.size() > 3}">
            <div th:each="assinatura, iterStat : ${assinaturas}"
                 th:if="${iterStat.index >= 3 and iterStat.index < 6}"
                 class="signature-box">
                <div class="signature-image-box">
                    <img th:if="${assinatura.assinaturaUrl != null}"
                         th:src="${assinatura.assinaturaUrl}"
                         alt="Assinatura" />
                </div>
                <div class="signature-line"></div>
                <div class="signature-name" th:text="${assinatura.configuracao != null and assinatura.configuracao.nomeAssinante != null ? assinatura.configuracao.nomeAssinante : 'Assinante'}">Nome do Assinante</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div class="footer">
        <p>Documento gerado em <span th:text="${#temporals.format(#temporals.createNow(), 'dd/MM/yyyy HH:mm')}">05/12/2024 10:00</span></p>
        <p>Meu Diário de Obras - Sistema de Gestão de RDOs</p>
    </div>
</div>
</body>
</html>
